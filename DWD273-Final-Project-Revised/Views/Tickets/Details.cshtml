@model DWD273_Final_Project_Revised.Models.Ticket

@{
    ViewBag.Title = "Details";
}

@*<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>*@

<h2>Details</h2>

<div>
    <h4>Ticket</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Topic.TopicDesc)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Topic.TopicDesc)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.firstName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.firstName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.lastName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.lastName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.message)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.message)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.submitTime)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.submitTime)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.resolved)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.resolved)
        </dd>

		
		<!--Built with Example from W3Schools-->
		@*Can't figure out how to make it show in the center of the screen, but it works if you make screen really small (width)*@
		<div class="container">
			<!-- Trigger the modal with a button -->
			<button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myModal" style="background-color: gray;">Comment</button>

			<!-- Modal -->
			<div class="modal fade" id="myModal" role="dialog" style="text-align: left;">
				<div class="modal-dialog" style="left:unset;">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Comment Below:</h4>
						</div>
						<div class="modal-body">
							@using (Html.BeginForm("AddComment", "Tickets", FormMethod.Post))
							{
								<label for="firstName">First Name</label>
								<input id="firstName" name="firstName" type="text" />
								<br />
								<label for="lastName">Last Name</label>
								<input id="lastName" name="lastName" type="text" />
								<br />
								<label for="message">Comment</label>
								<textarea id="message" name="message"></textarea>

								<input type="hidden" name="TicketID" id="TicketID" value="@Model.ID" />
								<input type="hidden" name="TicketID" id="TicketID" value="DateTime.Now.ToShortTimeString()" />
								<br />
								<button type="submit">Submit Comment</button>
							}

						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>

				</div>
			</div>
		</div>
		
		<h4>
			Comments
		</h4>

		@foreach (var comment in Model.Comments)
		{
			
			<dt>
				@comment.firstName @comment.lastName
			</dt>

			<dd>
				@comment.message @comment.time @*Isn't showing time?*@
				<input type="hidden" value="@comment.time" />
			</dd>
			
		}

		

    </dl>
	

	

		
	</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.ID }) |
    @Html.ActionLink("Back to List", "Index")
</p>
